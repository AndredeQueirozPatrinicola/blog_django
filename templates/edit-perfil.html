{% extends 'base.html' %}

{% load static %}

{% block title %}Perfil | {% endblock %}

{% block content %}

<div class="d-flex div-perfil shadow" id="div-perfil">

    {% include 'sidebar-perfil.html' %}

    <div class="div-perfil-meio" id="div-perfil-meio">

        <div class="edit-perfil" id="sidebar-perfil">

            <div>

                <a href="/perfil/{{ user.id }}" class="text-dec-none">
                    <h4 class="close-edit-perfil">X</h4>
                </a>

                <div class="container d-flex flex-column main-div div-post-content div-edit-perfil">


                    <form class="d-flex flex-column" method="post" action="/perfil/{{ user.id }}/submit" id="edit-perf">
                        {% csrf_token %}
                        {{ form1 }}
                        {{ form2 }}

                        <button type="submit" class="login-button">Submit</button>

                    </form>

                    <div>
                        {% for message in messages %}

                        {{ message }}

                        {% endfor %}
                    </div>


                </div>

            </div>
        </div>

    </div>

</div>

<script>

    const user = '{{ user.id }}';
    const usuario = document.getElementById('user');
    if (usuario) {
        usuario.value = user;
        usuario.style.display = 'none';
    }
    const descricao = '{{ person.descricao }}'
    const descricao_dom = document.getElementById('descricao')
    if (descricao_dom) {
        descricao_dom.value = descricao;
    }
    const username = '{{ user.username }}'
    const username_dom = document.getElementById('username')
    if (username_dom) {
        username_dom.value = username;
    }
    const firstName = '{{ user.first_name }}'
    const firstNameDom = document.getElementById('first_name')
    if (firstNameDom) {
        firstNameDom.value = firstName;
    }
    const lastName = '{{ user.last_name }}'
    const lastNameDom = document.getElementById('last_name')
    if (lastNameDom) {
        lastNameDom.value = lastName;
    }
    


</script>

{% endblock %}